From 559b0376fb704512906464867e113b3a729fd412 Mon Sep 17 00:00:00 2001
From: Philippe Gerum <rpm@xenomai.org>
Date: Mon, 11 Feb 2019 09:36:55 +0100
Subject: [PATCH] evl/monitor: remove superfluous checks for list emptiness

---
 kernel/evenless/monitor.c | 10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

diff --git a/kernel/evenless/monitor.c b/kernel/evenless/monitor.c
index 1565f0eb0cb..df16b74206d 100644
--- a/kernel/evenless/monitor.c
+++ b/kernel/evenless/monitor.c
@@ -258,12 +258,10 @@ static int exit_monitor(struct evl_monitor *gate)
 
 	if (state->flags & EVL_MONITOR_SIGNALED) {
 		state->flags &= ~EVL_MONITOR_SIGNALED;
-		if (!list_empty(&gate->events)) {
-			list_for_each_entry_safe(event, n, &gate->events, next) {
-				if (event->state->flags & EVL_MONITOR_SIGNALED) {
-					list_del(&event->next);
-					wakeup_waiters(event);
-				}
+		list_for_each_entry_safe(event, n, &gate->events, next) {
+			if (event->state->flags & EVL_MONITOR_SIGNALED) {
+				list_del(&event->next);
+				wakeup_waiters(event);
 			}
 		}
 	}
-- 
2.16.4

