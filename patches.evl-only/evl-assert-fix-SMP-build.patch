From 73b8f834ef3edc6784c8ea3f73381726cdb15074 Mon Sep 17 00:00:00 2001
From: Philippe Gerum <rpm@xenomai.org>
Date: Mon, 18 Mar 2019 16:11:30 +0100
Subject: [PATCH] evl/assert: fix SMP build

---
 include/evl/assert.h | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/include/evl/assert.h b/include/evl/assert.h
index 1eecf6ca898..261942a59b5 100644
--- a/include/evl/assert.h
+++ b/include/evl/assert.h
@@ -28,8 +28,7 @@
 #define EVL_WARN_ON_SMP(__subsys, __cond)		\
 	EVL_WARN_ON(__subsys, __cond)
 #else
-#define EVL_WARN_ON_SMP(__subsys, __cond)		\
-	do { } while (0)
+#define EVL_WARN_ON_SMP(__subsys, __cond)  0
 #endif
 
 #define oob_context_only()	EVL_WARN_ON_ONCE(CORE, running_inband())
-- 
2.16.4

